# –£–ª—É—á—à–µ–Ω–∏—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Å—Ç—Ä–∞—Ç–µ–≥–∏–π –≤ —Å–¥–µ–ª–∫–∞—Ö

## –ü—Ä–æ–±–ª–µ–º–∞, –∫–æ—Ç–æ—Ä–∞—è –±—ã–ª–∞ —Ä–µ—à–µ–Ω–∞

**–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è—Ö –≤ –¥–µ—Ç–∞–ª—å–Ω–æ–º –ø—Ä–æ—Å–º–æ—Ç—Ä–µ —Å–¥–µ–ª–æ–∫** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –º–æ–≥ –ø–æ–Ω—è—Ç—å, –ø–æ –∫–∞–∫–∏–º –∏–º–µ–Ω–Ω–æ —Å–∏–≥–Ω–∞–ª–∞–º –±—ã–ª–∞ –æ—Ç–∫—Ä—ã—Ç–∞ —Å–¥–µ–ª–∫–∞, —á—Ç–æ –∑–∞—Ç—Ä—É–¥–Ω—è–ª–æ –∞–Ω–∞–ª–∏–∑ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏–π.

## –í–Ω–µ—Å–µ–Ω–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### 1. –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ –ø–æ–ª—è –≤ —Ç–∞–±–ª–∏—Ü—É `orders` –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è—Ö:

- `price_action_active` (BOOLEAN) - –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ Price Action
- `price_action_pattern` (TEXT) - –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω Price Action (–Ω–∞–ø—Ä–∏–º–µ—Ä, "Bullish Engulfing", "Hammer")
- `cm_active` (BOOLEAN) - –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ CM (Laguerre PPO)
- `moonbot_active` (BOOLEAN) - –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ MoonBot
- `rsi_active` (BOOLEAN) - –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ RSI
- `divergence_active` (BOOLEAN) - –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –¥–∏–≤–µ—Ä–≥–µ–Ω—Ü–∏–∏
- `divergence_type` (TEXT) - —Ç–∏–ø –¥–∏–≤–µ—Ä–≥–µ–Ω—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "Regular Bullish", "Hidden Bearish")

### 2. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Å–æ–∑–¥–∞–Ω–∏—è –æ—Ä–¥–µ—Ä–æ–≤

**–§–∞–π–ª:** `db/orders.py`

- –î–æ–±–∞–≤–ª–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä `strategy_signals` –≤ —Ñ—É–Ω–∫—Ü–∏—é `create_order()`
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è—Ö —Ç–µ–ø–µ—Ä—å —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∫–∞–∂–¥–æ–π —Å–¥–µ–ª–∫–∏
- –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `migrate_strategy_fields()` –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö

### 3. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ —Ç–æ—Ä–≥–æ–≤–ª–∏

**–§–∞–π–ª:** `main_strategy.py`

- –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –æ—Ä–¥–µ—Ä–∞ —Ç–µ–ø–µ—Ä—å –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è —Å–ª–æ–≤–∞—Ä—å `strategy_signals` —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –≤—Å–µ—Ö –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏—è—Ö
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –Ω–µ —Ç–æ–ª—å–∫–æ —Ñ–∞–∫—Ç –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏, –Ω–æ –∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–µ—Ç–∞–ª–∏ (–ø–∞—Ç—Ç–µ—Ä–Ω—ã, —Ç–∏–ø—ã –¥–∏–≤–µ—Ä–≥–µ–Ω—Ü–∏–π)

### 4. –£–ª—É—á—à–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–¥–µ–ª–æ–∫

**–§–∞–π–ª:** `basic/handlers.py`

- –í –¥–µ—Ç–∞–ª—å–Ω–æ–º –ø—Ä–æ—Å–º–æ—Ç—Ä–µ —Å–¥–µ–ª–æ–∫ –¥–æ–±–∞–≤–ª–µ–Ω –±–ª–æ–∫ "‚ö†Ô∏è –°–¥–µ–ª–∫–∞ –æ—Ç–∫—Ä—ã—Ç–∞ –ø–æ —Å–∏–≥–Ω–∞–ª–∞–º —Å:"
- –ü–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –≤—Å–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ —Å –æ—Ç–º–µ—Ç–∫–∞–º–∏ ‚úÖ (–∞–∫—Ç–∏–≤–Ω–∞) –∏–ª–∏ ‚ùå (–Ω–µ–∞–∫—Ç–∏–≤–Ω–∞)
- –î–ª—è –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏–π –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–µ—Ç–∞–ª–∏ (–ø–∞—Ç—Ç–µ—Ä–Ω—ã, —Ç–∏–ø—ã)

## –ü—Ä–∏–º–µ—Ä –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è

### –î–ª—è –æ—Ç–∫—Ä—ã—Ç—ã—Ö —Å–¥–µ–ª–æ–∫:
```
üìã BTCUSDT | 1h
–¢–∏–ø –ø–æ–∑–∏—Ü–∏–∏: LONG

–¶–µ–Ω–∞ –æ—Ç–∫—Ä—ã—Ç–∏—è: 50000.0$
–û–±—ä–µ–º —Å–¥–µ–ª–∫–∏: 100.0$

–ë–∏—Ä–∂–∞: Bybit
–¢–∏–ø —Ç–æ—Ä–≥–æ–≤–ª–∏: FUTURES (–ø–ª–µ—á–æ: x10)

–î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è –æ—Ç–∫—Ä—ã—Ç–∏—è:
‚è±Ô∏è 15.01.2024 14:27

‚ö†Ô∏è –°–¥–µ–ª–∫–∞ –æ—Ç–∫—Ä—ã—Ç–∞ –ø–æ —Å–∏–≥–Ω–∞–ª–∞–º —Å:
‚úÖ Price Action Bullish Engulfing
‚úÖ CM
‚ùå MoonBot
‚úÖ RSI
‚úÖ Divergence Regular Bullish
```

### –î–ª—è –∑–∞–∫—Ä—ã—Ç—ã—Ö —Å–¥–µ–ª–æ–∫:
```
üìã ETHUSDT | 4h
–¢–∏–ø –ø–æ–∑–∏—Ü–∏–∏: SHORT

–¶–µ–Ω–∞ –æ—Ç–∫—Ä—ã—Ç–∏—è: 3000.0$
–¶–µ–Ω–∞ –∑–∞–∫—Ä—ã—Ç–∏—è: 2950.0$
–ü—Ä–∏–±—ã–ª—å: 50.0$

–û–±—ä–µ–º —Å–¥–µ–ª–∫–∏: 50.0$

–ë–∏—Ä–∂–∞: Binance
–¢–∏–ø —Ç–æ—Ä–≥–æ–≤–ª–∏: SPOT

–î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è –∑–∞–∫—Ä—ã—Ç–∏—è:
‚è±Ô∏è 15.01.2024 18:30

–°–¥–µ–ª–∫–∞ –±—ã–ª–∞ –æ—Ç–∫—Ä—ã—Ç–∞:
‚è±Ô∏è 15.01.2024 10:00

‚ö†Ô∏è –°–¥–µ–ª–∫–∞ –±—ã–ª–∞ –æ—Ç–∫—Ä—ã—Ç–∞ –ø–æ —Å–∏–≥–Ω–∞–ª–∞–º —Å:
‚ùå Price Action
‚úÖ CM
‚ùå MoonBot
‚ùå RSI
‚ùå Divergence
```

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ú–∏–≥—Ä–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –±–æ—Ç–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –º–∏–≥—Ä–∞—Ü–∏—è `migrate_strategy_fields()`, –∫–æ—Ç–æ—Ä–∞—è:

1. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –Ω–æ–≤—ã—Ö –ø–æ–ª–µ–π –≤ —Ç–∞–±–ª–∏—Ü–µ `orders`
2. –î–æ–±–∞–≤–ª—è–µ—Ç –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –ø–æ–ª—è —Å –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
3. –õ–æ–≥–∏—Ä—É–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—è

### –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

- –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Å–¥–µ–ª–∫–∏ –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ (–≤—Å–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –±—É–¥—É—Ç –ø–æ–º–µ—á–µ–Ω—ã –∫–∞–∫ –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã–µ)
- –ù–æ–≤—ã–µ —Å–¥–µ–ª–∫–∏ –±—É–¥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –ø–æ–ª–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è—Ö
- –ö–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ —Å –Ω–æ–≤—ã–º–∏, —Ç–∞–∫ –∏ —Å–æ —Å—Ç–∞—Ä—ã–º–∏ –∑–∞–ø–∏—Å—è–º–∏ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

1. **–ü–æ–ª–Ω–∞—è –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç, –∫–∞–∫–∏–µ –∏–º–µ–Ω–Ω–æ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ —Å—Ä–∞–±–æ—Ç–∞–ª–∏
2. **–ê–Ω–∞–ª–∏–∑ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏** - –º–æ–∂–Ω–æ –æ—Ü–µ–Ω–∏—Ç—å, –∫–∞–∫–∏–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π –Ω–∞–∏–±–æ–ª–µ–µ —É—Å–ø–µ—à–Ω—ã
3. **–û—Ç–ª–∞–¥–∫–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π** - –ª–µ–≥—á–µ –ø–æ–Ω—è—Ç—å, –ø–æ—á–µ–º—É –±—ã–ª–∞ –æ—Ç–∫—Ä—ã—Ç–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è —Å–¥–µ–ª–∫–∞
4. **–ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑** - –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Å—Ç—Ä–∞—Ç–µ–≥–∏–π –∑–∞ –ª—é–±–æ–π –ø–µ—Ä–∏–æ–¥

## –§–∞–π–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –∏–∑–º–µ–Ω–µ–Ω—ã

- `db/orders.py` - –¥–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–ª—è —Å—Ç—Ä–∞—Ç–µ–≥–∏–π –∏ –º–∏–≥—Ä–∞—Ü–∏—è
- `main_strategy.py` - –æ–±–Ω–æ–≤–ª–µ–Ω—ã –≤—ã–∑–æ–≤—ã create_order —Å –ø–µ—Ä–µ–¥–∞—á–µ–π strategy_signals
- `basic/handlers.py` - –¥–æ–±–∞–≤–ª–µ–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π –≤ –¥–µ—Ç–∞–ª—å–Ω–æ–º –ø—Ä–æ—Å–º–æ—Ç—Ä–µ
- `STRATEGY_TRACKING_IMPROVEMENTS.md` - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (—ç—Ç–æ—Ç —Ñ–∞–π–ª)

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞ —Å –ø–æ–º–æ—â—å—é —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∫–∞–∑–∞–ª –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ:
- –†–∞–∑–ª–∏—á–Ω—ã—Ö –∫–æ–º–±–∏–Ω–∞—Ü–∏–π –∞–∫—Ç–∏–≤–Ω—ã—Ö/–Ω–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏–π
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–µ—Ç–∞–ª–µ–π (–ø–∞—Ç—Ç–µ—Ä–Ω—ã Price Action, —Ç–∏–ø—ã –¥–∏–≤–µ—Ä–≥–µ–Ω—Ü–∏–π)
- –ü—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ —Ç–æ—Ä–≥–æ–≤–ª–∏ (spot/futures) 